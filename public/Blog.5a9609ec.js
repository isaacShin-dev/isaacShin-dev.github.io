import{g as U,r as i,h as j,i as A,u as G,j as P,k as S,l as y,m as e,n as J,o as c,q as _,w as s,b as n,c as x,s as w,F as $,v as K,x as O,d as p,t as u,a as Q,_ as W}from"./entry.4a64faf2.js";const X={class:"viewcount--small"},k="https://eclipseaddict.com/v1/",Y=U({__name:"Blog",setup(Z){const v=i([]),r=i(1),m=i(0),d=i(!1),B=j(),g=A();G({meta:[]});const C=async()=>{const l=g.query.tag,t=l?`&tag=${l}`:"";y({url:`${k}list/?page=${r.value}${t}`,method:"GET"}).then(a=>{v.value=a.data.results,m.value=Math.ceil(a.data.count/8)}).catch(a=>{console.log(a)})},V=l=>{B.push({path:"/Detail",query:{id:l}})};return P(async()=>{console.log("mounted",{}.VITE_API_URL),await C()}),S(r,async()=>{const l=g.query.tag,t=l?`&tag=${l}`:"";try{const a=await y.get(`${k}list/?page=${r.value}${t}`);v.value=a.data.results}catch(a){console.error(a)}}),(l,t)=>{const a=e("v-img"),D=e("v-card-title"),q=e("v-spacer"),z=e("v-icon"),f=e("v-card-subtitle"),M=e("v-chip"),T=e("v-chip-group"),E=e("v-card"),I=e("v-col"),N=e("v-row"),R=e("v-pagination"),b=e("v-container"),F=J("ripple");return c(),_(b,{fluid:"",class:"container--bottom"},{default:s(()=>[n(N,{dense:""},{default:s(()=>[(c(!0),x($,null,w(v.value,(o,H)=>(c(),_(I,{key:H,sm:"6",md:"4",lg:"3",xl:"2",xxl:"3"},{default:s(()=>[O((c(),_(E,{class:"mx-auto article--card","max-width":"344",elevation:"3",onClick:h=>V(o.id)},{default:s(()=>[n(a,{src:o.cover,"lazy-src":"/loading.gif",height:"200px",cover:""},null,8,["src"]),n(D,{class:"cardTitle"},{default:s(()=>[p(u(o.title),1)]),_:2},1024),n(f,null,{default:s(()=>[p(u(o.created_time.substring(0,10))+" ",1),n(q),n(z,{icon:"mdi-eye",size:"x-small"}),Q("span",X,u(o.views),1)]),_:2},1024),n(f,null,{default:s(()=>[n(T,null,{default:s(()=>[(c(!0),x($,null,w(o.categories_data,(h,L)=>(c(),_(M,{size:"small",class:"mx-1",dark:"",key:L},{default:s(()=>[p(u(h.category),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[F]])]),_:2},1024))),128))]),_:1}),n(R,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=o=>r.value=o),length:m.value,"total-visible":5,color:"grey-darken-1",variant:"elevated",class:K(["paginator",{"paginator--hover":d.value}]),onMouseover:t[1]||(t[1]=o=>d.value=!0),onMouseleave:t[2]||(t[2]=o=>d.value=!1),style:{}},null,8,["modelValue","length","class"])]),_:1})}}});const te=W(Y,[["__scopeId","data-v-23d9de2e"]]);export{te as default};
