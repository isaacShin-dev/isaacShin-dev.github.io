import{g as j,r as u,h as A,i as G,u as P,j as S,k as J,l as K,m as h,n as e,q as O,o as c,s as _,w as s,b as n,c as x,v as w,F as $,x as Q,y as W,d as g,t as v,a as X,_ as Y}from"./entry.585c3821.js";const Z={class:"viewcount--small"},k="https://eclipseaddict.com/v1/",ee=j({__name:"Blog",setup(te){const d=u([]),r=u(1),m=u(0),p=u(!1),B=A(),i=G(),C=i.query.tag;P({meta:[]});const V=async()=>{const l=i.query.tag,t=l?`&tag=${l}`:"";h({url:`${k}list/?page=${r.value}${t}`,method:"GET"}).then(a=>{d.value=a.data.results,m.value=Math.ceil(a.data.count/8)}).catch(a=>{console.log(a)})},q=l=>{B.push({path:"/Detail",query:{id:l}})};return S(async()=>{console.log("mounted",{}.VITE_API_URL),await V()}),J(()=>{i.query.tag!=C&&window.location.reload()}),K(r,async()=>{const l=i.query.tag,t=l?`&tag=${l}`:"";try{const a=await h.get(`${k}list/?page=${r.value}${t}`);d.value=a.data.results}catch(a){console.error(a)}}),(l,t)=>{const a=e("v-img"),D=e("v-card-title"),z=e("v-spacer"),M=e("v-icon"),f=e("v-card-subtitle"),T=e("v-chip"),E=e("v-chip-group"),I=e("v-card"),N=e("v-col"),R=e("v-row"),U=e("v-pagination"),b=e("v-container"),F=O("ripple");return c(),_(b,{fluid:"",class:"container--bottom"},{default:s(()=>[n(R,{dense:""},{default:s(()=>[(c(!0),x($,null,w(d.value,(o,H)=>(c(),_(N,{key:H,sm:"6",md:"4",lg:"3",xl:"2",xxl:"3"},{default:s(()=>[W((c(),_(I,{class:"mx-auto article--card","max-width":"344",elevation:"3",onClick:y=>q(o.id)},{default:s(()=>[n(a,{src:o.cover,"lazy-src":"/loading.gif",height:"200px",cover:""},null,8,["src"]),n(D,{class:"cardTitle"},{default:s(()=>[g(v(o.title),1)]),_:2},1024),n(f,null,{default:s(()=>[g(v(o.created_time.substring(0,10))+" ",1),n(z),n(M,{icon:"mdi-eye",size:"x-small"}),X("span",Z,v(o.views),1)]),_:2},1024),n(f,null,{default:s(()=>[n(E,null,{default:s(()=>[(c(!0),x($,null,w(o.categories_data,(y,L)=>(c(),_(T,{size:"small",class:"mx-1",dark:"",key:L},{default:s(()=>[g(v(y.category),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[F]])]),_:2},1024))),128))]),_:1}),n(U,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=o=>r.value=o),length:m.value,"total-visible":5,color:"grey-darken-1",variant:"elevated",class:Q(["paginator",{"paginator--hover":p.value}]),onMouseover:t[1]||(t[1]=o=>p.value=!0),onMouseleave:t[2]||(t[2]=o=>p.value=!1),style:{}},null,8,["modelValue","length","class"])]),_:1})}}});const oe=Y(ee,[["__scopeId","data-v-c48214d3"]]);export{oe as default};
