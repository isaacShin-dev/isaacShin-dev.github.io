import{r as o,z as U,A as V,B as j,u as B,_ as z,i as F,C as G,m as C,j as Y,k as J,D as K,E as O,n as l,o as r,c as T,b as i,w as d,s as w,G as x,a,F as A,d as I,v as Q,t as v,p as W,f as X}from"./entry.29ad5956.js";import{M as Z,L as tt}from"./index.8bec778d.js";function et(n,u){const c=o({});return U(()=>{const g=V(n),{title:s,titleTemplate:_,...m}=g;c.value={title:s,titleTemplate:_,meta:j(m)}}),B(c,u)}const D=n=>(W("data-v-c735e2cc"),n=n(),X(),n),ot={id:"app",class:"dark-mode"},at={class:"main--header"},nt={class:"created--at"},ct={class:"view--count"},st={class:"ml-2"},lt=D(()=>a("div",{class:"divider"},null,-1)),rt=["innerHTML"],it=D(()=>a("div",{id:"commentSection"},null,-1)),M="https://eclipseaddict.com/v1/",dt={__name:"Detail",props:{article_id:String},setup(n){console.error=()=>{},console.warn=()=>{},new Z;const u=F(),c=u.query.id,g=async()=>{try{const t=await C.get(`${M}article/${c}/`);return console.log(t.data.content),t.data}catch(t){throw console.log(t),t}};async function s(){try{const t=await g();et({title:t.title,ogTitle:t.title,description:t.title,ogDescription:t.title,ogImage:t.cover,twitterCard:t.cover}),B({script:[{src:"https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?autorun=false&skin=sunburst",async:!0,defer:!0,body:!0}]})}catch(t){console.error("useHead",t)}}s();const _=o(null),m=o(null),b=o(null),k=o(null),S=o(null),h=o(null),y=o(!1),E=()=>{window.history.back()};G(()=>{s(),window.scroll(0,0),C.get(`${M}article/${c}/`).then(t=>{_.value=t.data.content,m.value=t.data.title,b.value=t.data.cover,k.value=t.data.created_at,S.value=t.data.views,h.value=t.data.categories,console.log("category_list",h.value)}).catch(t=>{console.log(t)})}),Y(()=>{s();const t=document.createElement("SCRIPT");t.setAttribute("src","https://utteranc.es/client.js"),t.setAttribute("repo","danielkellyio/blog-comments"),t.setAttribute("issue-term","pathname"),t.setAttribute("label","Comment"),t.setAttribute("theme","github-light"),t.setAttribute("crossorigin","anonymous"),t.setAttribute("async","async");const e=document.getElementById("commentSection");console.log(e),e.appendChild(t)}),J(()=>{u.query.id!=c&&window.location.reload(),document.querySelectorAll(".detailContent img").forEach(e=>{e.style.width="100%",e.style.height="auto"});try{PR.prettyPrint()}catch{window.location.reload(!0)}y.value=!0}),K(()=>{console.log("onUnmounted"),document.querySelectorAll("pre").forEach(e=>{e.classList.add("prettyprint")}),PR.prettyPrint()}),s();const L=O(()=>{const t=new Date(k.value),e=t.getFullYear(),p=t.getMonth()+1,f=t.getDate();return`${e}년 ${p}월 ${f}일`});return(t,e)=>{const p=l("v-icon"),f=l("v-btn"),$=l("v-img"),H=l("v-chip"),P=l("v-chip-group"),q=l("v-container");return r(),T(A,null,[i(f,{icon:"",class:"backBtn",onClick:E,elevation:"7"},{default:d(()=>[i(p,null,{default:d(()=>[I(" mdi-arrow-left ")]),_:1})]),_:1}),y.value?x("",!0):(r(),w(tt,{key:0})),i($,{src:b.value,class:"w-100",height:"300",cover:""},null,8,["src"]),a("div",ot,[y.value?(r(),w(q,{key:0},{default:d(()=>[i(P,null,{default:d(()=>[(r(!0),T(A,null,Q(h.value,(N,R)=>(r(),w(H,{size:"small",class:"mx-1",variant:"outlined",dark:"",key:R},{default:d(()=>[I(v(N),1)]),_:2},1024))),128))]),_:1}),a("h1",at,v(m.value),1),a("p",nt,"작성일 : "+v(L.value),1),a("p",ct,[i(p,{icon:"mdi-eye",size:"x-small"}),a("span",st,v(S.value),1)]),lt,a("div",{class:"detailContent",innerHTML:_.value},null,8,rt)]),_:1})):x("",!0)]),it],64)}}},mt=z(dt,[["__scopeId","data-v-c735e2cc"]]);export{mt as default};
