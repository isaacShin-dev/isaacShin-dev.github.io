import{g as j,r,h as q,i as A,j as G,k as e,l as H,o as l,m as i,w as a,b as s,c as f,n as h,F as x,q as P,s as S,d as p,t as _,a as J,_ as K}from"./entry.ca769ac2.js";import{a as y}from"./index.1dcb11ff.js";const O={class:"viewcount--small"},w="http://localhost:8000/v1/",Q=j({__name:"Blog",setup(W){const u=r([]),c=r(1),d=r(0),v=r(!1),k=q(),$=async()=>{y({url:`${w}list/?page=${c.value}`,method:"GET"}).then(t=>{u.value=t.data.results,d.value=Math.ceil(t.data.count/8)}).catch(t=>{console.log(t)})},B=t=>{k.push({path:`/posts/${t}`})};return A(async()=>{console.log("mounted",{}.VITE_API_URL),await $()}),G(c,async()=>{try{const t=await y.get(`${w}list/?page=${c.value}`);u.value=t.data.results}catch(t){console.error(t)}}),(t,n)=>{const C=e("v-img"),V=e("v-card-title"),D=e("v-spacer"),M=e("v-icon"),m=e("v-card-subtitle"),T=e("v-chip"),z=e("v-chip-group"),E=e("v-card"),I=e("v-col"),N=e("v-row"),b=e("v-pagination"),F=e("v-container"),L=H("ripple");return l(),i(F,{fluid:"",class:"container--bottom"},{default:a(()=>[s(N,{dense:""},{default:a(()=>[(l(!0),f(x,null,h(u.value,(o,R)=>(l(),i(I,{key:R,sm:"6",md:"4",lg:"3",xl:"2",xxl:"3"},{default:a(()=>[S((l(),i(E,{class:"mx-auto article--card","max-width":"344",elevation:"3",onClick:g=>B(o.id)},{default:a(()=>[s(C,{src:o.cover,height:"200px",cover:""},null,8,["src"]),s(V,{class:"cardTitle"},{default:a(()=>[p(_(o.title),1)]),_:2},1024),s(m,null,{default:a(()=>[p(_(o.created_time.substring(0,10))+" ",1),s(D),s(M,{icon:"mdi-eye",size:"x-small"}),J("span",O,_(o.views),1)]),_:2},1024),s(m,null,{default:a(()=>[s(z,null,{default:a(()=>[(l(!0),f(x,null,h(o.categories_data,(g,U)=>(l(),i(T,{size:"small",class:"mx-1",dark:"",key:U},{default:a(()=>[p(_(g.category),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[L]])]),_:2},1024))),128))]),_:1}),s(b,{modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=o=>c.value=o),length:d.value,"total-visible":5,color:"grey-darken-1",variant:"elevated",class:P(["paginator",{"paginator--hover":v.value}]),onMouseover:n[1]||(n[1]=o=>v.value=!0),onMouseleave:n[2]||(n[2]=o=>v.value=!1),style:{}},null,8,["modelValue","length","class"])]),_:1})}}});const Z=K(Q,[["__scopeId","data-v-41ef353e"]]);export{Z as default};
